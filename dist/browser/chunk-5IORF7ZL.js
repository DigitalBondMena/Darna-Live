import{a as m,b as g,d as p}from"./chunk-WUTWM3HZ.js";import{b as f}from"./chunk-EXRZ27KW.js";import{Ba as l,C as s,Pc as u,X as c,aa as r,m as o}from"./chunk-BQNT5KH3.js";var v=class n{constructor(i,t,d,a){this.router=i;this.route=t;this.translate=d;this.platformId=a;this.router.events.pipe(s(e=>e instanceof m)).subscribe(()=>{let e=this.route.snapshot.firstChild?.paramMap.get("lang")||"en";this.selectedLanguage$.next(e),this.isArabic$.next(e==="ar"),u(this.platformId)&&(document.documentElement.lang=e,document.documentElement.dir=e==="ar"?"rtl":"ltr"),this.translate.use(e)})}selectedLanguage$=new o("ar");isArabic$=new o(!1);getLanguage(){return this.selectedLanguage$.asObservable()}getIsArabic(){return this.isArabic$.asObservable()}changeLanguage(i,t){console.log("change lang ",i),console.log("currentUrl ",t);let a=(t.includes("?")?t.split("?")[0]:t).split("/");a.length>1&&(a[1]=i),this.router.navigate([a.join("/")]),this.translate.use(i)}static \u0275fac=function(t){return new(t||n)(r(p),r(g),r(f),r(l))};static \u0275prov=c({token:n,factory:n.\u0275fac,providedIn:"root"})};export{v as a};
