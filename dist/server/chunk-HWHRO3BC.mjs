import './polyfills.server.mjs';
import{a as z}from"./chunk-OKHAMRN5.mjs";import{a as Z,c as H}from"./chunk-BD5QOPAS.mjs";import{a as j,b as d,c as G,d as k,e as L,g as $,h as O,m as R,o as U}from"./chunk-KUP5T7K7.mjs";import{b as y,c as P,d as q}from"./chunk-QIVFSM2I.mjs";import{Fb as a,Gb as o,Hb as g,Mb as V,Nb as v,Ob as T,Pb as B,Q as _,Uc as A,V as E,Va as r,W as f,Wb as l,Xb as h,Yb as p,Zc as D,eb as M,fa as I,fc as c,gc as m,jb as u,ra as F,va as w,wb as s,yb as b,zb as N}from"./chunk-MZK72FPY.mjs";var C=class n{constructor(e){this.translateService=e}_notifications=F([]);_notificationCounter=0;notifications=this._notifications.asReadonly();showNotification(e,t="info",i){let x=this.translateService.instant(e),Q=i?this.translateService.instant(i):void 0,S={message:x,type:t,id:this._notificationCounter++,title:Q};this._notifications.update(W=>[...W,S]),setTimeout(()=>{this.removeNotification(S.id)},5e3)}success(e,t){this.showNotification(e,"success",t)}error(e,t){this.showNotification(e,"error",t)}warning(e,t){this.showNotification(e,"warning",t)}info(e,t){this.showNotification(e,"info",t)}removeNotification(e){this._notifications.update(t=>t.filter(i=>i.id!==e))}clearAll(){this._notifications.set([])}static \u0275fac=function(t){return new(t||n)(E(y))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})};var K=["*"];function ee(n,e){if(n&1&&(a(0,"div",24),l(1),o()),n&2){let t=v();r(),p(" ",t.getValidationMessage("name")," ")}}function te(n,e){if(n&1&&(a(0,"div",24),l(1),o()),n&2){let t=v();r(),p(" ",t.getValidationMessage("email")," ")}}function ie(n,e){if(n&1&&(a(0,"div",24),l(1),o()),n&2){let t=v();r(),p(" ",t.getValidationMessage("phone")," ")}}function ne(n,e){if(n&1&&(a(0,"div",24),l(1),o()),n&2){let t=v();r(),p(" ",t.getValidationMessage("message")," ")}}function re(n,e){n&1&&(a(0,"span"),l(1),c(2,"translate"),o()),n&2&&(r(),h(m(2,1,"contact.form.submit")))}function oe(n,e){n&1&&(a(0,"span",25),I(),a(1,"svg",26),g(2,"circle",27)(3,"path",28),o(),l(4),c(5,"translate"),o()),n&2&&(r(4),p(" ",m(5,1,"contact.form.submitting")," "))}function ae(n,e){if(n&1&&(a(0,"div",29)(1,"div",30),l(2),o()()),n&2){let t=v();r(),N(t.submitMessage.includes("success")||t.submitMessage.includes("\u0646\u062C\u062D")?"text-green-600 bg-green-50 border border-green-200":"text-red-600 bg-red-50 border border-red-200"),r(),p(" ",t.submitMessage," ")}}var J=class n{formBuilder=f(R);translateService=f(y);platformId=f(w);contactUsService=f(z);notificationService=f(C);toastr=f(H);contactForm=this.formBuilder.group({name:["",[d.required,d.minLength(3),d.pattern(/^[a-zA-Z\s]+$/)]],email:["",[d.required,d.email,d.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],phone:["",[d.required,d.minLength(10),d.pattern(/^[0-9]+$/)]],message:["",[d.required,d.minLength(10)]]});isSubmitting=!1;submitMessage="";getValidationMessage(e){let t=this.contactForm.get(e);if(t&&t.errors&&t.touched){let i=t.errors;if(i.required)return this.translateService.instant(`contact.validation.${e}.required`);if(i.minlength){let x=i.minlength.requiredLength;return this.translateService.instant(`contact.validation.${e}.minlength`,{length:x})}if(i.email)return this.translateService.instant("contact.validation.email.invalid");if(i.pattern)return this.translateService.instant("contact.validation.email.pattern")}return null}hasValidationError(e){let t=this.contactForm.get(e);return!!(t&&t.errors&&t.touched)}onSubmit(){if(!this.contactForm.valid){Object.keys(this.contactForm.controls).forEach(e=>{this.contactForm.get(e)?.markAsTouched()});return}this.isSubmitting=!0,this.submitMessage="",this.contactUsService.sendContactUsData(this.contactForm.value).subscribe({next:e=>{e.en_message?(this.toastr.success(e.en_message),this.submitMessage=e.en_message):(this.toastr.error(e.ar_message),this.submitMessage=e.ar_message),this.contactForm.reset()},error:e=>{console.error("Form submission error:",e),this.submitMessage=this.translateService.instant("contact.form.error"),this.toastr.error(e.error?.message||"An error occurred")},complete:()=>{this.isSubmitting=!1}})}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=M({type:n,selectors:[["app-contact-form"]],ngContentSelectors:K,decls:48,vars:52,consts:[[1,"py-16"],[1,"container","mx-auto"],[1,"text-center","mb-12"],[1,"text-title-size","font-bold","text-primary","mt-2","mb-4"],[1,"flex","flex-wrap"],[1,"bg-white"],[3,"ngSubmit","formGroup"],[1,"w-full","lg:w-1/2","px-4","mb-6"],[1,"form-group"],["for","name",1,"sr-only"],["type","text","formControlName","name","id","name",1,"w-full","px-4","py-3","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-default","focus:border-transparent",3,"placeholder"],["class","text-red-500 text-sm mt-1",4,"ngIf"],["for","email",1,"sr-only"],["type","email","formControlName","email","id","email",1,"w-full","px-4","py-3","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-alternative","focus:border-transparent",3,"placeholder"],[1,"w-full","px-4","mb-6"],["for","phone",1,"sr-only"],["type","text","formControlName","phone","id","phone",1,"w-full","px-4","py-3","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-alternative","focus:border-transparent",3,"placeholder"],["for","message",1,"sr-only"],["formControlName","message","id","message","cols","30","rows","8",1,"w-full","px-4","py-3","border","rounded-md","focus:outline-none","focus:ring-2","focus:ring-alternative","focus:border-transparent","resize-vertical",3,"placeholder"],[1,"w-full","px-4"],["type","submit",1,"default-btn","btn-bg-2","w-full","cursor-pointer","lg:w-auto","px-8","py-3","bg-primary","text-white","rounded-md","hover:bg-default","focus:outline-none","focus:ring-2","focus:ring-default","focus:ring-offset-2","transition","duration-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"disabled"],[4,"ngIf"],["class","flex items-center gap-2",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"text-red-500","text-sm","mt-1"],[1,"flex","items-center","gap-2"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-4","w-4"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"],[1,"mt-4"],[1,"p-3","rounded-md","text-center"]],template:function(t,i){t&1&&(T(),a(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),l(4),c(5,"translate"),o()(),B(6),a(7,"div",4)(8,"div",5)(9,"form",6),V("ngSubmit",function(){return i.onSubmit()}),a(10,"div",4)(11,"div",7)(12,"div",8)(13,"label",9),l(14),c(15,"translate"),o(),g(16,"input",10),c(17,"translate"),u(18,ee,2,1,"div",11),o()(),a(19,"div",7)(20,"div",8)(21,"label",12),l(22),c(23,"translate"),o(),g(24,"input",13),c(25,"translate"),u(26,te,2,1,"div",11),o()(),a(27,"div",14)(28,"div",8)(29,"label",15),l(30),c(31,"translate"),o(),g(32,"input",16),c(33,"translate"),u(34,ie,2,1,"div",11),o()(),a(35,"div",14)(36,"div",8)(37,"label",17),l(38),c(39,"translate"),o(),g(40,"textarea",18),c(41,"translate"),u(42,ne,2,1,"div",11),o()(),a(43,"div",19)(44,"button",20),u(45,re,3,3,"span",21)(46,oe,6,3,"span",22),o(),u(47,ae,3,3,"div",23),o()()()()()()()),t&2&&(r(4),p(" ",m(5,34,"contact.subtitle")," "),r(5),s("formGroup",i.contactForm),r(5),h(m(15,36,"contact.form.name")),r(2),b("border-red-500",i.hasValidationError("name"))("border-gray-300",!i.hasValidationError("name")),s("placeholder",m(17,38,"contact.form.name")),r(2),s("ngIf",i.hasValidationError("name")),r(4),h(m(23,40,"contact.form.email")),r(2),b("border-red-500",i.hasValidationError("email"))("border-gray-300",!i.hasValidationError("email")),s("placeholder",m(25,42,"contact.form.email")),r(2),s("ngIf",i.hasValidationError("email")),r(4),h(m(31,44,"contact.form.phone")),r(2),b("border-red-500",i.hasValidationError("phone"))("border-gray-300",!i.hasValidationError("phone")),s("placeholder",m(33,46,"contact.form.phone")),r(2),s("ngIf",i.hasValidationError("phone")),r(4),h(m(39,48,"contact.form.message")),r(2),b("border-red-500",i.hasValidationError("message"))("border-gray-300",!i.hasValidationError("message")),s("placeholder",m(41,50,"contact.form.message")),r(2),s("ngIf",i.hasValidationError("message")),r(2),s("disabled",i.contactForm.invalid||i.isSubmitting),r(),s("ngIf",!i.isSubmitting),r(),s("ngIf",i.isSubmitting),r(),s("ngIf",i.submitMessage))},dependencies:[U,L,j,G,k,$,O,q,P,D,A,Z],styles:["input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{background-color:#f8f9fb}"]})};export{J as a};
