import './polyfills.server.mjs';
import{a as m,b as p,e as g}from"./chunk-UJZ43TYT.mjs";import{b as f}from"./chunk-QIVFSM2I.mjs";import{Q as c,V as i,bd as u,g as s,va as l,w as o}from"./chunk-MZK72FPY.mjs";var v=class n{constructor(r,e,d,a){this.router=r;this.route=e;this.translate=d;this.platformId=a;this.router.events.pipe(o(t=>t instanceof m)).subscribe(()=>{let t=this.route.snapshot.firstChild?.paramMap.get("lang")||"en";this.selectedLanguage$.next(t),this.isArabic$.next(t==="ar"),u(this.platformId)&&(document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"),this.translate.use(t)})}selectedLanguage$=new s("ar");isArabic$=new s(!1);getLanguage(){return this.selectedLanguage$.asObservable()}getIsArabic(){return this.isArabic$.asObservable()}changeLanguage(r,e){let a=(e.includes("?")?e.split("?")[0]:e).split("/");a.length>1&&(a[1]=r),this.router.navigate([a.join("/")]),this.translate.use(r)}static \u0275fac=function(e){return new(e||n)(i(g),i(p),i(f),i(l))};static \u0275prov=c({token:n,factory:n.\u0275fac,providedIn:"root"})};export{v as a};
